(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7970],{97530:function(e,t,r){"use strict";r.d(t,{L:function(){return o}});var n=r(87536),a=r(2482),o=function(e,t,r){return void 0===t&&(t={abortEarly:!1}),void 0===r&&(r={}),function(o,s,l){try{var i=function(){return d.error?{values:{},errors:(0,a.D)((e=d.error,t=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,e.details.length?e.details.reduce((function(e,r){var a=r.path.join(".");if(e[a]||(e[a]={message:r.message,type:r.type}),t){var o=e[a].types,s=o&&o[r.type];e[a]=(0,n.KN)(a,t,e,r.type,s?[].concat(s,r.message):r.message)}return e}),{}):{}),l)}:(l.shouldUseNativeValidation&&(0,a.M)({},l),{errors:{},values:d.value});var e,t},c=Object.assign({},t,{context:s}),d={},u=function(){if("sync"===r.mode)d=e.validate(o,c);else{var t=function(t,r){try{var n=Promise.resolve(e.validateAsync(o,c)).then((function(e){d.value=e}))}catch(t){return r(t)}return n&&n.then?n.then(void 0,r):n}((function(){return Promise.resolve(e.validateAsync(o,c)).then((function(e){d.value=e}))}),(function(e){d.error=e}));if(t&&t.then)return t.then((function(){}))}}();return Promise.resolve(u&&u.then?u.then(i):i())}catch(f){return Promise.reject(f)}}}},96540:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=s},77957:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=s},86635:function(e,t,r){"use strict";r.d(t,{Nv:function(){return u},TB:function(){return d}});var n=r(50029),a=r(87794),o=r.n(a),s=r(11179),l=(r(9669),r(8100)),i=function(){var e=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.OpenRoute.getRoute(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.GetRoute.getRoute(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=(0,l.ZP)(e,i),r=t.data,n=t.error;return{data:(null===r||void 0===r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}},u=function(e){var t=(0,l.ZP)(e,c),r=t.data,n=t.error;return{data:(null===r||void 0===r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}}},73903:function(e,t,r){"use strict";var n=r(77533),a=r(50594),o=(r(67294),r(85893));t.Z=function(e){var t=e.children,r=e.toggle,s=void 0!==r&&r,l=e.setToggle,i=e.title,c=void 0===i?"New item":i,d=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&l(e)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{role:"button",onClick:function(){return l(!s)},tabIndex:0,children:t[0]}),(0,o.jsx)(n.ZP,{anchor:"top",open:s,onClose:d(!1),sx:{"& .MuiPaper-elevation":{maxWidth:"100%",minHeight:"100vh",marginX:"auto",padding:"8px",backgroundColor:"transparent",boxShadow:"none",overflowY:"auto",display:"flex",flexDirection:"column",alignItems:"center",height:"fit-content"}},children:(0,o.jsxs)("div",{className:"max-w-4xl pointer-events-auto bg-white flex py-3 px-4 md:p-8 flex-col items-center w-full",children:[(0,o.jsxs)("div",{className:"flex gap-x-2 justify-between w-full",children:[(0,o.jsx)("h1",{className:"font-black text-xl tracking-wide text-brand-green",children:c}),(0,o.jsxs)("button",{type:"button",onKeyDown:function(e){"Escape"===e.key&&l(!1)},onClick:d(!1),className:"text-brand-green flex flex-col items-center ml-auto",children:[(0,o.jsx)(a.Z,{fontSize:"large"}),(0,o.jsx)("span",{className:"text-sm text-brand-green",children:"ESC"})]})]}),(0,o.jsx)("div",{className:"flex flex-col w-full",children:t[1]})]})})]})}},75073:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return R},default:function(){return T}});var n=r(9008),a=r.n(n),o=r(66133),s=r(67294),l=r(96540),i=r(42761),c=r(27812),d=r(59499),u=r(16835),f=r(86635),g=r(93946),x=r(77957),b=r(50029),h=r(87794),p=r.n(h),m=r(11179),y=r(46737),v=r.n(y),w=r(42705),j=r.n(w),k=r(73903),N=r(87536),O=r(97530),Z=r(87535),P=r(85893);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=j().object({title:j().string().required(),keyword:j().string().required(),location:j().string().required(),category:j().string().required(),description:j().string().required()}),C=function(e){var t,r,n,a,o,l=e.handleAdd,i=e.children,c=e.handleEdit,d=e.dataValues,f=e.handleDelete,g=s.useState(!1),x=(0,u.Z)(g,2),h=x[0],y=x[1],w=s.useState(!1),j=(0,u.Z)(w,2),D=j[0],C=j[1],_=(0,N.cI)({resolver:(0,O.L)(S)}),V=_.register,L=_.handleSubmit,A=_.setValue,R=(_.getValues,_.reset),T=_.formState.errors,M=function(){var e=(0,b.Z)(p().mark((function e(t){var r,n,a,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,d?m.Z.PatchRoute.patchRoute("/api/jobs/".concat(d.id),E({},t)):m.Z.PostRoute.postRoute("/api/jobs",E({},t));case 3:r=e.sent,n=r.data,a=r.error,y(!1),n&&(o=d?"Edited":"Added",v()(o,n.message||"".concat(o," successfully"),"success").then((function(){R(),C(!1),d?c(n.data):l(n.data)}))),a&&v()("Ooops!",a.message||"Something went wrong");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();s.useEffect((function(){d&&R({title:d.title,keyword:d.keyword,location:d.location,category:d.category,description:d.description})}),[d,R]);var q=function(){var e=(0,b.Z)(p().mark((function e(){var t,r,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({title:"Are you sure?",text:"Are you sure that you want to delete this job?",icon:"warning",dangerMode:!0});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return y(!0),e.next=8,m.Z.DeleteRoute.deleteRoute("/api/jobs/".concat(d.id));case 8:t=e.sent,r=t.data,n=t.error,y(!1),r&&v()("Deleted!",r.message||"Deleted successfully","success").then((function(){R(),C(!1),f(d.id)})),n&&v()("Ooops!",n.message||"Something went wrong");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,P.jsxs)(k.Z,{title:"".concat(d?"Edit":"New"," Job"),toggle:D,setToggle:C,children:[i,(0,P.jsx)("div",{className:"flex flex-col",children:(0,P.jsxs)("form",{onSubmit:function(e){L(M)(e)},className:"gap-y-3 flex flex-col",children:[(0,P.jsxs)("label",{className:"flex flex-col",children:[(0,P.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Title"}),(0,P.jsx)("input",E(E({type:"text",placeholder:"Title"},V("title")),{},{onChange:function(e){A("title",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(t=T.title)||void 0===t?void 0:t.message)&&(0,P.jsx)("p",{className:"mt-1 text-red-500",children:(0,Z.a)("".concat(T.title.message))})]}),(0,P.jsxs)("label",{className:"flex flex-col",children:[(0,P.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Keywords"}),(0,P.jsx)("input",E(E({type:"text",placeholder:"Keyword"},V("keyword")),{},{onChange:function(e){A("keyword",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(r=T.keyword)||void 0===r?void 0:r.message)&&(0,P.jsx)("p",{className:"mt-1 text-red-500",children:(0,Z.a)("".concat(T.keyword.message))})]}),(0,P.jsxs)("label",{className:"flex flex-col",children:[(0,P.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Location"}),(0,P.jsx)("input",E(E({type:"text",placeholder:"Location"},V("location")),{},{onChange:function(e){A("location",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(n=T.location)||void 0===n?void 0:n.location)&&(0,P.jsx)("p",{className:"mt-1 text-red-500",children:(0,Z.a)("".concat(T.location.message))})]}),(0,P.jsxs)("label",{className:"flex flex-col",children:[(0,P.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Category"}),(0,P.jsx)("input",E(E({type:"text",placeholder:"Category"},V("category")),{},{onChange:function(e){A("category",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(a=T.category)||void 0===a?void 0:a.message)&&(0,P.jsx)("p",{className:"mt-1 text-red-500",children:(0,Z.a)("".concat(T.category.message))})]}),(0,P.jsxs)("label",{className:"flex flex-col",children:[(0,P.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Description"}),(0,P.jsx)("textarea",E(E({rows:10,placeholder:"Description"},V("description")),{},{onChange:function(e){A("description",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(o=T.description)||void 0===o?void 0:o.message)&&(0,P.jsx)("p",{className:"mt-1 text-red-500",children:(0,Z.a)("".concat(T.description.message))})]}),(0,P.jsxs)("div",{className:"flex items-center space-x-3 justify-between md:col-span-2",children:[d?(0,P.jsx)("button",{type:"button",disabled:h,onClick:q,className:"font-semibold disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-red-500/80 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:red:ring-blue-800",children:"Delete"}):null,(0,P.jsx)("button",{type:"submit",disabled:h,className:"md:col-span-2 disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-brand-green/80 hover:bg-brand-green focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Submit"})]})]})})]})},_=function(e){var t=e.data,r=e.handleEdit,n=e.handleDelete,a=t||{},o=a.title,s=a.keyword,l=a.category;return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:"flex flex-col bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700",children:[(0,P.jsxs)("h2",{className:"self-center",children:[" ",o]}),(0,P.jsxs)("div",{className:"p-3 flex-grow flex flex-col items-center justify-between gap-y-2",children:[(0,P.jsxs)("p",{className:"font-semibold pl-2",children:[s," , ",l]}),(0,P.jsx)(C,{dataValues:t,handleEdit:r,handleDelete:n,children:(0,P.jsx)(g.Z,{children:(0,P.jsx)(x.Z,{})})})]})]})})};function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=function(){var e=s.useState({count:0,rows:[]}),t=(0,u.Z)(e,2),r=t[0],n=t[1],a=(0,f.TB)("/api/jobs"),o=a.data.data,d=a.isLoading,g=s.useState(""),x=(0,u.Z)(g,2),b=x[0],h=x[1];s.useEffect((function(){var e=(null===o||void 0===o?void 0:o.rows)||[];if(e.length){var t=e.filter((function(e){var t;return!(null===e||void 0===e||!e.title)&&(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase()))}));n((function(e){return L(L({},e),{},{rows:t})}))}}),[o,b]),s.useEffect((function(){var e=(null===o||void 0===o?void 0:o.rows)||[];e.length&&n((function(t){return L(L({},t),{},{rows:e})}))}),[o]);var p=function(e){n((function(t){return L(L({},r),{},{rows:[].concat((0,c.Z)(t.rows),[e])})}))},m=function(e){var t=r.rows.map((function(t){return Number(t.id)===Number(e.id)?e:t}));n((function(e){return L(L({},e),{},{rows:t})}))},y=function(e){n((function(t){return L(L({},t),{},{rows:t.rows.filter((function(t){return t.id!==e}))})}))};return d?(0,P.jsx)("p",{children:"Loading..."}):(0,P.jsxs)("div",{className:"px-4 md:pl-6 bg-white py-4 flex flex-col flex-grow items-center md:px-8 w-full",children:[(0,P.jsx)("h2",{className:"font-semibold text-slate-900 self-start mr-2 mb-5",children:"Jobs"}),(0,P.jsxs)("div",{className:"space-x-6 md:space-x-12 bg-white flex justify-between w-full",children:[(0,P.jsxs)("div",{className:"group flex-grow flex items-center relative",children:[(0,P.jsx)(i.Z,{className:"left-2 absolute text-slate-400"}),(0,P.jsx)("input",{value:b,onChange:function(e){return h(e.target.value)},className:"peer focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 pl-10 ring-1 ring-slate-200 shadow-sm",type:"text",placeholder:"Filter Jobs..."})]}),(0,P.jsx)(C,{handleAdd:function(e){p(e)},children:(0,P.jsxs)("button",{className:"hover:bg-brand-green group flex items-center rounded-md bg-brand-green/80 text-white text-sm font-medium px-8 py-2 shadow-sm",children:[(0,P.jsx)(l.Z,{}),(0,P.jsx)("span",{children:"New"})]})})]}),(0,P.jsxs)("ul",{className:"w-full py-4 md:py-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 text-sm leading-6",children:[r.rows.map((function(e,t){return(0,P.jsx)(_,{data:e,handleEdit:m,handleDelete:y},(null===e||void 0===e?void 0:e.id)+"keyForJob")})),(0,P.jsx)(C,{handleAdd:function(e){p(e)},children:(0,P.jsx)("li",{className:"flex",children:(0,P.jsxs)("button",{className:"hover:border-blue-500 hover:border-solid hover:bg-white hover:text-blue-500 group w-full flex flex-col items-center justify-center rounded-md border-2 border-dashed border-slate-300 text-sm leading-6 text-slate-900 font-medium p-3",children:[(0,P.jsx)(l.Z,{className:"group-hover:text-blue-500 mb-1 text-slate-400"}),"New Job"]})})})]})]})},R=!0,T=function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(a(),{children:(0,P.jsx)("title",{children:"Yean"})}),(0,P.jsx)(o.Z,{children:(0,P.jsx)(A,{})})]})}},87535:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n=function(e){if(e){var t=e.replace(/"/g,"").replace(/Id/g,"");return t.charAt(0).toUpperCase()+t.slice(1)}}},41799:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/job",function(){return r(75073)}])}},function(e){e.O(0,[8247,8795,3946,8100,2482,9601,6737,2705,6133,9774,2888,179],(function(){return t=41799,e(e.s=t);var t}));var t=e.O();_N_E=t}]);