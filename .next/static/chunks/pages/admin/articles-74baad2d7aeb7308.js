(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{97530:function(e,t,r){"use strict";r.d(t,{L:function(){return o}});var n=r(87536),a=r(2482),o=function(e,t,r){return void 0===t&&(t={abortEarly:!1}),void 0===r&&(r={}),function(o,l,i){try{var s=function(){var e,t;return u.error?{values:{},errors:(0,a.D)((e=u.error,t=!i.shouldUseNativeValidation&&"all"===i.criteriaMode,e.details.length?e.details.reduce(function(e,r){var a=r.path.join(".");if(e[a]||(e[a]={message:r.message,type:r.type}),t){var o=e[a].types,l=o&&o[r.type];e[a]=(0,n.KN)(a,t,e,r.type,l?[].concat(l,r.message):r.message)}return e},{}):{}),i)}:(i.shouldUseNativeValidation&&(0,a.M)({},i),{errors:{},values:u.value})},c=Object.assign({},t,{context:l}),u={},d=function(){if("sync"===r.mode)u=e.validate(o,c);else{var t=function(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}(function(){return Promise.resolve(e.validateAsync(o,c)).then(function(e){u.value=e})},function(e){u.error=e});if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(d&&d.then?d.then(s):s())}catch($){return Promise.reject($)}}}},96540:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),l=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=l},54970:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),l=(0,a.default)((0,o.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.Z=l},41733:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),l=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=l},77957:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),l=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=l},61659:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),l=(0,a.default)((0,o.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");t.Z=l},37958:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),l=(0,a.default)((0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.Z=l},85377:function(e,t,r){"use strict";r.d(t,{Nv:function(){return f},TB:function(){return $}});var n=r(50029),a=r(87794),o=r.n(a),l=r(10637);r(9669);var i,s,c=r(8100),u=(i=(0,n.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.Z.OpenRoute.getRoute(t));case 1:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),d=(s=(0,n.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.Z.GetRoute.getRoute(t));case 1:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),$=function(e){var t=(0,c.ZP)(e,u),r=t.data,n=t.error;return{data:(null==r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}},f=function(e){var t=(0,c.ZP)(e,d),r=t.data,n=t.error;return{data:(null==r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}}},51663:function(e,t,r){"use strict";var n=r(59499),a=r(16835),o=r(25675),l=r.n(o),i=r(67294),s=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(e){var t=e.alt,r="/assets/images/placeholder.png",n=i.useState(e.src),o=(0,a.Z)(n,2),c=o[0],d=o[1];if(i.useEffect(function(){d(e.src)},[e.src]),!c)return null;var $=c||"",f=$=$.startsWith("/uploads")?$:"/uploads/".concat($);return"/"!==f.slice(0,1)&&"http"!==f.slice(0,3)&&(f="/".concat(c)),(0,s.jsx)(l(),u(u({},e),{},{objectFit:e.objectFit||"cover",alt:t,src:f,onError:function(){d(r)},onLoadingComplete:function(e){0===e.naturalWidth&&d(r)}}))};t.Z=d},22862:function(e,t,r){"use strict";var n=r(61659),a=r(37958),o=r(85893),l=function(e){var t=e.currentPage,r=void 0===t?1:t,l=e.pageCount,i=void 0===l?1:l,s=e.setPageNumber,c=e.showNumbers,u=function(){s(r+1)},d=function(e){s(e)},$=function(){s(r-1)};return i<=1?null:(0,o.jsxs)("div",{className:"cursor-pointer flex",children:[(0,o.jsxs)("button",{disabled:r<=1,onClick:$,className:"disabled:cursor-not-allowed disabled:opacity-50 flex items-center space-x-1 py-2 px-3 text-gray-500 bg-white rounded-l border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[(0,o.jsx)(n.Z,{}),(0,o.jsx)("span",{children:"Previous"})]}),(void 0===c||c)&&Array(i||1).fill(0).map(function(e,t){return(0,o.jsx)("button",{onClick:function(){d(t+1)},className:"flex flex-col justify-center items-center ".concat(t+1===r?"py-2 px-3 text-blue-600 bg-blue-50 border border-gray-300 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"py-2 px-3 text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"),children:(0,o.jsx)("span",{children:t+1})},t+"paginationKey")}),(0,o.jsxs)("button",{disabled:r>=i,onClick:u,className:"disabled:cursor-not-allowed disabled:opacity-50 flex items-center py-2 px-3 text-gray-500 bg-white rounded-r border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[(0,o.jsx)("span",{children:"Next"})," ",(0,o.jsx)(a.Z,{})]})]})};t.Z=l},78354:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(41733),a=r(54970),o=r(59499),l=r(16835),i=r(67294),s=r(66673),c=r(51663),u=r(85893),d=function(e){var t=e.children,r=e.src,n=e.title,a=i.useState(!1),o=(0,l.Z)(a,2),d=o[0],$=o[1];return r?(0,u.jsxs)(s.Z,{toggle:d,setToggle:$,title:n,children:[t,(0,u.jsx)("div",{className:"flex flex-col w-full",children:(0,u.jsx)(c.Z,{src:r,width:"600",height:"500",objectFit:"contain"})})]}):null};function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){var t=e.updateFilesCb,r=e.maxFileSizeInBytes,o=void 0===r?5e6:r,s=e.multiple,c=i.useState(!1),$=(0,l.Z)(c,2),p=$[0],x=$[1],h=i.useState({}),m=(0,l.Z)(h,2),v=m[0],b=m[1],y=i.useRef(null),_=function(e){e.length;var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(i)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.size<o&&(v[n.name]=n)}}catch(a){r.e(a)}finally{r.f()}return f({},v)},w=function(e){var r,n;t(Object.keys(r=e).map(function(e){return r[e]}))},j=function(e){var t=e.target.files;if(t.length){var r=_(t);b(r),w(r)}},N=function(e){e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?x(!0):"dragleave"===e.type&&x(!1)},k=function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files;if(console.log(e),t&&t.length){var r=_(t);b(r),w(r)}},Z=function(e){delete v[e],b(f({},v)),w(f({},v))};return(0,u.jsxs)("div",{onDragOver:N,onDrop:k,onDragEnter:N,onDragLeave:N,className:"flex flex-col w-full",children:[(0,u.jsxs)("label",{className:"cursor-pointer flex items-center space-x-3 w-full border-2 border-dashed border-gray-600 rounded-lg px-4 py-6 md:py-10 ".concat(p?"border-brand-green":"peer-active:border-brand-green"),children:[(0,u.jsx)(a.Z,{className:"text-brand-green",fontSize:"large"}),(0,u.jsx)("p",{className:"flex flex-col",children:"Drag & Drop images here or click to select file(s)"}),(0,u.jsx)("input",{ref:y,type:"file",multiple:void 0!==s&&s,accept:".jpg,.png,.jpeg",onChange:j,className:"hidden"})]}),(0,u.jsx)("div",{className:"mt-1 inline-grid md:grid-cols-2 gap-3 w-full",children:Object.keys(v).map(function(e,t){var r,a=v[e],o="image"===a.type.split("/")[0];return(0,u.jsx)("div",{className:"flex flex-col",children:o&&(0,u.jsx)(d,{src:URL.createObjectURL(a),title:e,children:(0,u.jsxs)("div",{className:"py-1 bg-cyan-200/50 px-3 rounded-lg flex items-center w-full space-x-2 justify-between",children:[(0,u.jsxs)("p",{className:"text-xs text-cyan-500",children:[e," ",(0,u.jsxs)("span",{className:"text-red-500 pl-3",children:[Math.round((r=a.size)/1e3)," kb"]})]}),(0,u.jsx)(n.Z,{className:"text-brand-red cursor-pointer text-red-500",onClick:function(){return Z(e)}})]})})},e)})})]})}},66673:function(e,t,r){"use strict";var n=r(77533),a=r(50594);r(67294);var o=r(85893),l=function(e){var t=e.children,r=e.toggle,l=void 0!==r&&r,i=e.setToggle,s=e.title,c=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&i(e)}},u=function(e){"Escape"===e.key&&i(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{role:"button",onClick:function(){return i(!l)},tabIndex:0,children:t[0]}),(0,o.jsx)(n.ZP,{anchor:"top",open:l,onClose:c(!1),sx:{"& .MuiPaper-elevation":{maxWidth:"100%",minHeight:"100vh",marginX:"auto",padding:"8px",backgroundColor:"transparent",boxShadow:"none",overflowY:"auto",display:"flex",flexDirection:"column",alignItems:"center",height:"fit-content"}},children:(0,o.jsxs)("div",{className:"max-w-4xl pointer-events-auto bg-white flex py-3 px-4 md:p-8 flex-col items-center w-full",children:[(0,o.jsxs)("div",{className:"flex gap-x-2 justify-between w-full",children:[(0,o.jsx)("h1",{className:"font-black text-xl tracking-wide text-brand-green",children:void 0===s?"New item":s}),(0,o.jsxs)("button",{type:"button",onKeyDown:u,onClick:c(!1),className:"text-brand-green flex flex-col items-center ml-auto",children:[(0,o.jsx)(a.Z,{fontSize:"large"}),(0,o.jsx)("span",{className:"text-sm text-brand-green",children:"ESC"})]})]}),(0,o.jsx)("div",{className:"flex flex-col w-full",children:t[1]})]})})]})};t.Z=l},6729:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return B},default:function(){return K}});var n=r(67294),a=r(9008),o=r.n(a),l=r(43389),i=r(96540),s=r(42761),c=r(27812),u=r(59499),d=r(16835),$=r(85377),f=r(22862),g=r(50029),p=r(87794),x=r.n(p),h=r(10637),m=r(46737),v=r.n(m),b=r(42705),y=r.n(b),_=r(66673),w=r(87536),j=r(97530),N=r(78354),k=r(77035);r(8215);var Z=r(5152),P=r.n(Z),C=r(6973),D=r(17737),S=r(18058),O=r(85893);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){(0,u.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var M=P()(function(){return Promise.all([r.e(9774),r.e(2937),r.e(7487),r.e(1167)]).then(r.t.bind(r,71167,23))},{ssr:!1,loadableGenerated:{webpack:function(){return[71167]}}}),A={title:y().string().required(),image:y().object().required().optional(),text:y().string().required(),parentCat:y().number().required().label("Category"),category:y().number().required().label("Sub category"),author_id:y().number().required().label("Author")},L=y().object(A),z=function(e){var t,r,a,o,l,i,s,c,u,f,p,m,b,y,Z,P=e.handleAdd,E=e.children,z=e.handleEdit,I=e.dataValues,R=e.handleDelete,T=n.useState(null),F=(0,d.Z)(T,2),q=F[0],U=F[1],H=n.useState(!1),B=(0,d.Z)(H,2),K=B[0],W=B[1],X=n.useState(!1),G=(0,d.Z)(X,2),Y=G[0],J=G[1],Q=(0,$.Nv)("/api/categories").data.data,ee=(0,$.Nv)("/api/sub-categories").data.data,et=(0,$.Nv)("/api/users").data.data,er=(0,w.cI)({resolver:(0,j.L)(L)}),en=er.register,ea=er.handleSubmit,eo=er.setValue,el=er.getValues,ei=er.reset,es=er.formState.errors,ec=(y=(0,g.Z)(x().mark(function e(t){var r,n,a,o,l;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),r=new FormData,Object.keys(t).forEach(function(e){"parentCat"!==e&&r.append("image"===e?"media":e,t[e])}),e.next=5,I?h.Z.PatchRoute.patchRoute("/api/articles/".concat(I.id),r):h.Z.PostRoute.postRoute("/api/articles",r);case 5:a=(n=e.sent).data,o=n.error,W(!1),a&&(l=I?"Edited":"Added",v()(l,a.message||"".concat(l," successfully"),"success").then(function(){ei(),J(!1),I?z(a.data):P(a.data)})),o&&v()("Ooops!",o.message||"Something went wrong");case 11:case"end":return e.stop()}},e)})),function(e){return y.apply(this,arguments)}),eu=(Z=(0,g.Z)(x().mark(function e(){var t,r,n,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({title:"Are you sure?",text:"Are you sure that you want to delete this article?",icon:"warning",dangerMode:!0});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:return W(!0),e.next=8,h.Z.DeleteRoute.deleteRoute("/api/articles/".concat(I.id));case 8:n=(r=e.sent).data,a=r.error,W(!1),n&&v()("Deleted!",n.message||"Deleted successfully","success").then(function(){ei(),J(!1),R(I.id)}),a&&v()("Ooops!",a.message||"Something went wrong");case 14:case"end":return e.stop()}},e)})),function(){return Z.apply(this,arguments)});n.useEffect(function(){null!=I&&I.id&&S.Z.axios.get("/api/articles/".concat(I.id)).then(function(e){U(e.data.data.article)})},[I]);var ed=n.useRef(function(){});ed.current=function(){if(q){var e={};Object.keys(A).map(function(t){["image","parentCat"].includes(t)||(e[t]=q[t])}),ei(e)}},n.useEffect(function(){ed.current()},[q]);var e$=null==Q?void 0:null===(t=Q.rows)||void 0===t?void 0:t.map(function(e){return{value:e.id,label:e.name}}),ef=null==ee?void 0:null===(r=ee.rows)||void 0===r?void 0:null===(a=r.filter(function(e){return e.categoryId==el("parentCat")}))||void 0===a?void 0:a.map(function(e){return{value:e.id,label:e.name}}),eg=null==ee?void 0:null===(o=ee.rows)||void 0===o?void 0:null===(l=o.filter(function(e){return e.id==(null==q?void 0:q.category)}))||void 0===l?void 0:l.map(function(e){return{value:e.id,label:e.name,categoryId:e.categoryId}}),ep=null==e$?void 0:e$.filter(function(e){return null!=eg&&!!eg.length&&eg[0].categoryId==e.value});console.log(ep);var ex=null==et?void 0:et.map(function(e){return{value:e.id,label:"".concat(e.firstname," ").concat(e.lastname)}}),eh=null==ex?void 0:ex.filter(function(e){return e.value==(null==q?void 0:q.author_id)});return(0,O.jsxs)(_.Z,{title:"New Article",toggle:Y,setToggle:J,children:[E,(0,O.jsx)("div",{className:"flex flex-col",children:(0,O.jsxs)("form",{onSubmit:function(e){ea(ec)(e)},className:"gap-y-3 flex flex-col",children:[(0,O.jsxs)("label",{className:"flex flex-col",children:[(0,O.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Title"}),(0,O.jsx)("input",V(V({type:"text",placeholder:"Title"},en("title")),{},{className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(i=es.title)||void 0===i?void 0:i.message)&&(0,O.jsx)("p",{className:"mt-1 text-red-500",children:(0,k.a)("".concat(es.title.message))})]}),(0,O.jsxs)("label",{className:"flex flex-col",children:[(0,O.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Category"}),(0,O.jsx)(D.ZP,V(V({isMulti:!1},en("parentCat")),{},{options:e$,defaultValue:ep,onChange:function(e){eo("parentCat",e.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2"})),(null===(s=es.parentCat)||void 0===s?void 0:s.message)&&(0,O.jsx)("p",{className:"mt-1 text-red-500",children:(0,k.a)("".concat(es.parentCat.message))})]}),(0,O.jsxs)("label",{className:"flex flex-col",children:[(0,O.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Sub Category"}),(0,O.jsx)(D.ZP,V(V({isMulti:!1},en("category")),{},{options:ef,defaultValue:eg,onChange:function(e){eo("category",e.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2"})),(null===(c=es.category)||void 0===c?void 0:c.message)&&(0,O.jsx)("p",{className:"mt-1 text-red-500",children:(0,k.a)("".concat(es.category.message))})]}),(0,O.jsxs)("label",{className:"flex flex-col",children:[(0,O.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Author"}),(0,O.jsx)(D.ZP,V(V({isMulti:!1},en("author_id")),{},{options:ex,defaultValue:eh,onChange:function(e){eo("author_id",e.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2"})),(null===(u=es.author_id)||void 0===u?void 0:u.message)&&(0,O.jsx)("p",{className:"mt-1 text-red-500",children:(0,k.a)("".concat(es.author_id.message))})]}),(0,O.jsxs)("div",{className:"flex flex-col",children:[(0,O.jsx)("span",{className:"text-sm mb-2 font-medium text-gray-900 dark:text-gray-300",children:"Image"}),(0,O.jsx)(N.Z,{updateFilesCb:function(e){eo("image",e[0],{shouldDirty:!0,shouldValidate:!0})},multiple:!1}),(null===(f=es.image)||void 0===f?void 0:f.message)&&(0,O.jsx)("p",{className:"mt-1 text-red-500",children:(0,k.a)("".concat(null===(p=es.image)||void 0===p?void 0:p.message))})]}),(0,O.jsxs)("div",{className:"flex flex-col",children:[(0,O.jsx)("p",{className:"mt-3 w-full font-medium",children:"Text"}),(0,O.jsx)(M,{theme:"snow",defaultValue:null==q?void 0:q.text,modules:C.Z.modules,formats:C.Z.formats,onChange:function(e){eo("text",e,{shouldDirty:!0,shouldValidate:!0})}}),(null===(m=es.text)||void 0===m?void 0:m.message)&&(0,O.jsx)("p",{className:"mt-1 text-red-500",children:(0,k.a)("".concat(null===(b=es.text)||void 0===b?void 0:b.message))})]}),(0,O.jsxs)("div",{className:"flex items-center space-x-3 justify-between md:col-span-2",children:[I?(0,O.jsx)("button",{type:"button",disabled:K,onClick:eu,className:"font-semibold disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-red-500/80 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:red:ring-blue-800",children:"Delete"}):null,(0,O.jsx)("button",{type:"submit",disabled:K,className:"font-semibold disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-brand-green/80 hover:bg-brand-green focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg text-sm w-full sm:w-auto px-12 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Save"})]})]})})]})},I=r(93946),R=r(77957),T=r(51663),F=function(e){var t=e.data,r=e.handleEdit,n=e.handleDelete,a=t||{},o=a.title,l=a.image;return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{className:"flex flex-col bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700",children:[(0,O.jsx)(T.Z,{src:l,width:"150",height:"150"}),(0,O.jsxs)("div",{className:"p-3 flex-grow flex flex-col items-center justify-between gap-y-2",children:[(0,O.jsx)("p",{className:"font-semibold pl-2",children:o}),(0,O.jsx)(z,{dataValues:t,handleEdit:r,handleDelete:n,children:(0,O.jsx)(I.Z,{children:(0,O.jsx)(R.Z,{})})})]})]})})};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){(0,u.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var H=function(){var e=n.useRef(null),t=n.useState(1),r=(0,d.Z)(t,2),a=r[0],o=r[1],l=n.useState({count:0,rows:[]}),u=(0,d.Z)(l,2),g=u[0],p=u[1],x=(0,$.TB)("/api/articles?page=".concat(a,"&limit=20")),h=x.data,m=h.data,v=h.pagination,b=x.isLoading,y=n.useState(""),_=(0,d.Z)(y,2),w=_[0],j=_[1];n.useEffect(function(){var e=m||[];if(e.length){var t=e.filter(function(e){var t,r;return null===(t=e.title)||void 0===t?void 0:null===(r=t.toLowerCase())||void 0===r?void 0:r.includes(w.toLowerCase())});p(function(e){return U(U({},e),{},{rows:t})})}},[m,w]),n.useEffect(function(){var e=(null==m?void 0:m.rows)||[];e.length&&p(function(t){return U(U({},t),{},{rows:e})})},[m]);var N=function(e){p(function(t){return U(U({},g),{},{rows:[e].concat((0,c.Z)(t.rows))})})},k=function(e){var t=g.rows.map(function(t){return Number(t.id)===Number(e.id)?e:t});p(function(e){return U(U({},e),{},{rows:t})})},Z=function(e){p(function(t){return U(U({},t),{},{rows:t.rows.filter(function(t){return t.id!==e})})})};return b?(0,O.jsx)("p",{children:"Loading..."}):(0,O.jsxs)("div",{ref:e,className:"px-4 md:pl-6 bg-white py-4 flex flex-col flex-grow items-center md:px-8 w-full",children:[(0,O.jsxs)("div",{className:"space-x-6 md:space-x-12 bg-white flex justify-between w-full",children:[(0,O.jsxs)("div",{className:"group flex-grow flex items-center relative",children:[(0,O.jsx)(s.Z,{className:"left-2 absolute text-slate-400"}),(0,O.jsx)("input",{value:w,onChange:function(e){return j(e.target.value)},className:"peer focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 pl-10 ring-1 ring-slate-200 shadow-sm",type:"text",placeholder:"Filter articles..."})]}),(0,O.jsx)(z,{handleAdd:function(e){N(e)},children:(0,O.jsxs)("button",{className:"hover:bg-brand-green group flex items-center rounded-md bg-brand-green/80 text-white text-sm font-medium px-8 py-2 shadow-sm",children:[(0,O.jsx)(i.Z,{}),(0,O.jsx)("span",{children:"New"})]})})]}),(0,O.jsxs)("ul",{className:"w-full py-4 md:py-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 text-sm leading-6",children:[g.rows.map(function(e,t){return(0,O.jsx)(F,{data:e,handleEdit:k,handleDelete:Z},null==e?void 0:e.id)}),(0,O.jsx)(z,{handleAdd:function(e){N(e)},children:(0,O.jsx)("li",{className:"flex",children:(0,O.jsxs)("button",{className:"hover:border-blue-500 hover:border-solid hover:bg-white hover:text-blue-500 group w-full flex flex-col items-center justify-center rounded-md border-2 border-dashed border-slate-300 text-sm leading-6 text-slate-900 font-medium p-3",children:[(0,O.jsx)(i.Z,{className:"group-hover:text-blue-500 mb-1 text-slate-400"}),"New Article"]})})})]}),(0,O.jsx)(f.Z,{pageCount:null==v?void 0:v.pageCount,currentPage:null==v?void 0:v.currentPage,setPageNumber:function(t){o(t),e.current.scrollIntoView()}})]})},B=!0,K=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(o(),{children:(0,O.jsx)("title",{children:"Yean"})}),(0,O.jsx)(l.Z,{children:(0,O.jsx)(H,{})})]})}},6973:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(82262),a=r(92777),o=r(59499),l=(0,n.Z)(function e(){(0,a.Z)(this,e)});(0,o.Z)(l,"modules",{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]}),(0,o.Z)(l,"formats",["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"])},77035:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n=function(e){if(e){var t=e.replace(/"/g,"").replace(/Id/g,"");return t.charAt(0).toUpperCase()+t.slice(1)}}},62862:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/articles",function(){return r(6729)}])},8215:function(){}},function(e){e.O(0,[8247,8795,3946,8100,2482,9601,6737,2705,7737,5808,3389,9774,2888,179],function(){return e(e.s=62862)}),_N_E=e.O()}]);