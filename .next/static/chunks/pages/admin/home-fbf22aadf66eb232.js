(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5794],{97530:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(87536),a=n(2482),s=function(e,t,n){return void 0===t&&(t={abortEarly:!1}),void 0===n&&(n={}),function(s,i,l){try{var o=function(){return u.error?{values:{},errors:(0,a.D)((e=u.error,t=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,e.details.length?e.details.reduce((function(e,n){var a=n.path.join(".");if(e[a]||(e[a]={message:n.message,type:n.type}),t){var s=e[a].types,i=s&&s[n.type];e[a]=(0,r.KN)(a,t,e,n.type,i?[].concat(i,n.message):n.message)}return e}),{}):{}),l)}:(l.shouldUseNativeValidation&&(0,a.M)({},l),{errors:{},values:u.value});var e,t},d=Object.assign({},t,{context:i}),u={},c=function(){if("sync"===n.mode)u=e.validate(s,d);else{var t=function(t,n){try{var r=Promise.resolve(e.validateAsync(s,d)).then((function(e){u.value=e}))}catch(t){return n(t)}return r&&r.then?r.then(void 0,n):r}((function(){return Promise.resolve(e.validateAsync(s,d)).then((function(e){u.value=e}))}),(function(e){u.error=e}));if(t&&t.then)return t.then((function(){}))}}();return Promise.resolve(c&&c.then?c.then(o):o())}catch(f){return Promise.reject(f)}}}},96540:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var a=r(n(64938)),s=n(85893),i=(0,a.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=i},77957:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var a=r(n(64938)),s=n(85893),i=(0,a.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=i},86635:function(e,t,n){"use strict";n.d(t,{Nv:function(){return c},TB:function(){return u}});var r=n(50029),a=n(87794),s=n.n(a),i=n(11179),l=(n(9669),n(8100)),o=function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.OpenRoute.getRoute(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.GetRoute.getRoute(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){var t=(0,l.ZP)(e,o),n=t.data,r=t.error;return{data:(null===n||void 0===n?void 0:n.data)||{},isLoading:!r&&!n,isError:r}},c=function(e){var t=(0,l.ZP)(e,d),n=t.data,r=t.error;return{data:(null===n||void 0===n?void 0:n.data)||{},isLoading:!r&&!n,isError:r}}},73903:function(e,t,n){"use strict";var r=n(77533),a=n(50594),s=(n(67294),n(85893));t.Z=function(e){var t=e.children,n=e.toggle,i=void 0!==n&&n,l=e.setToggle,o=e.title,d=void 0===o?"New item":o,u=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&l(e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{role:"button",onClick:function(){return l(!i)},tabIndex:0,children:t[0]}),(0,s.jsx)(r.ZP,{anchor:"top",open:i,onClose:u(!1),sx:{"& .MuiPaper-elevation":{maxWidth:"100%",minHeight:"100vh",marginX:"auto",padding:"8px",backgroundColor:"transparent",boxShadow:"none",overflowY:"auto",display:"flex",flexDirection:"column",alignItems:"center",height:"fit-content"}},children:(0,s.jsxs)("div",{className:"max-w-4xl pointer-events-auto bg-white flex py-3 px-4 md:p-8 flex-col items-center w-full",children:[(0,s.jsxs)("div",{className:"flex gap-x-2 justify-between w-full",children:[(0,s.jsx)("h1",{className:"font-black text-xl tracking-wide text-brand-green",children:d}),(0,s.jsxs)("button",{type:"button",onKeyDown:function(e){"Escape"===e.key&&l(!1)},onClick:u(!1),className:"text-brand-green flex flex-col items-center ml-auto",children:[(0,s.jsx)(a.Z,{fontSize:"large"}),(0,s.jsx)("span",{className:"text-sm text-brand-green",children:"ESC"})]})]}),(0,s.jsx)("div",{className:"flex flex-col w-full",children:t[1]})]})})]})}},5735:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return V},default:function(){return C}});var r=n(67294),a=n(9008),s=n.n(a),i=n(2185),l=n(77957),o=n(96540),d=n(16835),u=n(86635),c=n(59499),f=n(50029),h=n(87794),x=n.n(h),p=n(11179),m=n(46737),v=n.n(m),g=n(42705),b=n.n(g),j=n(73903),w=n(87536),y=n(97530),N=n(87535),k=n(17737),Z=n(85893);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=b().object({slideIds:b().array().items(b().number()).min(6).max(6).required()}),S=function(e){var t,n=e.handleEdit,a=e.dataValues,s=e.handleDelete,i=e.children,l=r.useState(!1),o=(0,d.Z)(l,2),c=o[0],h=o[1],m=r.useState(!1),g=(0,d.Z)(m,2),b=g[0],E=g[1],S=(0,w.cI)({resolver:(0,y.L)(P)}),D=S.register,_=S.handleSubmit,I=S.setValue,V=S.reset,C=S.formState.errors,L=function(){var e=(0,f.Z)(x().mark((function e(t){var r,s,i,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),r=(null===a||void 0===a?void 0:a.id)||1,e.next=4,p.Z.PatchRoute.patchRoute("/api/landing/".concat(r),{slideIds:t.slideIds});case 4:s=e.sent,i=s.data,l=s.error,h(!1),i&&v()("Edited!",i.message||"Edited successfully","success").then((function(){V(),E(!1),n(i.data)})),l&&v()("Ooops!",l.message||"Something went wrong");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,f.Z)(x().mark((function e(){var t,n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({title:"Are you sure?",text:"Are you sure that you want to delete this page?",icon:"warning",dangerMode:!0});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return h(!0),e.next=8,p.Z.DeleteRoute.deleteRoute("/api/landing/1");case 8:t=e.sent,n=t.data,r=t.error,h(!1),n&&v()("Deleted!",n.message||"Deleted successfully","success").then((function(){V(),E(!1),s(a.id)})),r&&v()("Ooops!",r.message||"Something went wrong");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.useEffect((function(){a&&V({slideIds:a.slideIds})}),[a]);var R=(0,u.Nv)("/api/articles?limit=200").data.data,T=null===R||void 0===R?void 0:R.map((function(e){return{value:e.id,label:e.title}})),A=null===T||void 0===T?void 0:T.filter((function(e){var t;return null===(t=a.slideIds)||void 0===t?void 0:t.includes(e.value)}));return(0,Z.jsxs)(j.Z,{title:"Edit Home page",toggle:b,setToggle:E,children:[i,(0,Z.jsx)("div",{className:"flex flex-col",children:(0,Z.jsxs)("form",{onSubmit:function(e){_(L)(e)},className:"gap-y-3 flex flex-col",children:[(0,Z.jsxs)("label",{className:"flex flex-col",children:[(0,Z.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Home Slides"}),(0,Z.jsx)(k.ZP,O(O({isMulti:!0},D("slideIds")),{},{defaultValue:A,options:T,onChange:function(e){I("slideIds",e.map((function(e){return Number(e.value)})),{shouldDirty:!0,shouldValidate:!0})},className:"mt-2"})),(null===(t=C.slideIds)||void 0===t?void 0:t.message)&&(0,Z.jsx)("p",{className:"mt-1 text-red-500",children:(0,N.a)("".concat(C.slideIds.message))})]}),(0,Z.jsxs)("div",{className:"flex items-center space-x-3 justify-between md:col-span-2",children:[(0,Z.jsx)("button",{type:"button",disabled:c,onClick:M,className:"font-semibold disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-red-500/80 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:red:ring-blue-800",children:"Delete"}),(0,Z.jsx)("button",{type:"submit",disabled:c,className:"font-semibold disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-brand-green/80 hover:bg-brand-green focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg text-sm w-full sm:w-auto px-12 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Save"})]})]})})]})},D=n(93946),_=function(e){var t=e.data,n=e.handleEdit,r=e.handleDelete;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"flex flex-col bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700",children:(0,Z.jsxs)("div",{className:"p-12 flex-grow flex flex-col items-center justify-between gap-y-2",children:[(0,Z.jsx)("p",{className:"font-semibold pl-2",children:"Slides"}),(0,Z.jsx)(S,{dataValues:t,handleEdit:n,handleDelete:r,children:(0,Z.jsx)(D.Z,{children:(0,Z.jsx)(l.Z,{})})})]})})})},I=function(){var e=r.useState({}),t=(0,d.Z)(e,2),n=t[0],a=t[1],s=(0,u.TB)("/api/landing/1"),i=s.data.data,c=s.isLoading,f=function(e){a(e)},h=function(e){a({})};return r.useEffect((function(){a(i)}),[i]),c?(0,Z.jsx)("p",{children:"Loading..."}):(0,Z.jsxs)("div",{className:"px-4 md:pl-6 bg-white py-4 flex flex-col flex-grow items-center md:px-8 w-full",children:[(0,Z.jsx)("div",{className:"space-x-6 md:space-x-12 bg-white flex justify-between w-full",children:n?(0,Z.jsx)(S,{handleDelete:h,handleEdit:f,dataValues:n||{},children:(0,Z.jsxs)("button",{className:"hover:bg-brand-green group flex items-center rounded-md bg-brand-green/80 text-brand-yellow text-sm font-medium px-8 py-2 shadow-sm",children:[(0,Z.jsx)(l.Z,{}),(0,Z.jsx)("span",{children:"Edit"})]})}):(0,Z.jsx)(S,{handleDelete:h,handleEdit:f,dataValues:n||{},children:(0,Z.jsxs)("button",{className:"hover:bg-brand-green group flex items-center rounded-md bg-brand-green/80 text-white text-sm font-medium px-8 py-2 shadow-sm",children:[(0,Z.jsx)(o.Z,{}),(0,Z.jsx)("span",{children:"New"})]})})}),n?(0,Z.jsx)(_,{data:n,handleEdit:f,handleDelete:h},null===n||void 0===n?void 0:n.id):null]})},V=!0,C=function(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(s(),{children:(0,Z.jsx)("title",{children:"Yean"})}),(0,Z.jsx)(i.Z,{children:(0,Z.jsx)(I,{})})]})}},87535:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var r=function(e){if(e){var t=e.replace(/"/g,"").replace(/Id/g,"");return t.charAt(0).toUpperCase()+t.slice(1)}}},98014:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/home",function(){return n(5735)}])}},function(e){e.O(0,[8247,2530,3946,2482,8100,2426,6737,2705,7737,2185,9774,2888,179],(function(){return t=98014,e(e.s=t);var t}));var t=e.O();_N_E=t}]);