(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9385],{97530:function(e,t,r){"use strict";r.d(t,{L:function(){return o}});var n=r(87536),a=r(2482),o=function(e,t,r){return void 0===t&&(t={abortEarly:!1}),void 0===r&&(r={}),function(o,s,i){try{var l=function(){return u.error?{values:{},errors:(0,a.D)((e=u.error,t=!i.shouldUseNativeValidation&&"all"===i.criteriaMode,e.details.length?e.details.reduce((function(e,r){var a=r.path.join(".");if(e[a]||(e[a]={message:r.message,type:r.type}),t){var o=e[a].types,s=o&&o[r.type];e[a]=(0,n.KN)(a,t,e,r.type,s?[].concat(s,r.message):r.message)}return e}),{}):{}),i)}:(i.shouldUseNativeValidation&&(0,a.M)({},i),{errors:{},values:u.value});var e,t},c=Object.assign({},t,{context:s}),u={},d=function(){if("sync"===r.mode)u=e.validate(o,c);else{var t=function(t,r){try{var n=Promise.resolve(e.validateAsync(o,c)).then((function(e){u.value=e}))}catch(t){return r(t)}return n&&n.then?n.then(void 0,r):n}((function(){return Promise.resolve(e.validateAsync(o,c)).then((function(e){u.value=e}))}),(function(e){u.error=e}));if(t&&t.then)return t.then((function(){}))}}();return Promise.resolve(d&&d.then?d.then(l):l())}catch(f){return Promise.reject(f)}}}},96540:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=s},54970:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.Z=s},41733:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s},77957:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=s},61659:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");t.Z=s},37958:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.Z=s},86635:function(e,t,r){"use strict";r.d(t,{Nv:function(){return d},TB:function(){return u}});var n=r(50029),a=r(87794),o=r.n(a),s=r(11179),i=(r(9669),r(8100)),l=function(){var e=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.OpenRoute.getRoute(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.GetRoute.getRoute(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){var t=(0,i.ZP)(e,l),r=t.data,n=t.error;return{data:(null===r||void 0===r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}},d=function(e){var t=(0,i.ZP)(e,c),r=t.data,n=t.error;return{data:(null===r||void 0===r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}}},97139:function(e,t,r){"use strict";var n=r(16835),a=r(73903),o=r(67294),s=r(91070),i=r(85893);s.v0.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(s.v0.version,"/pdf.worker.js");var l={cMapUrl:"cmaps/",cMapPacked:!0,standardFontDataUrl:"standard_fonts/"};t.Z=function(e){var t=e.children,r=e.src,c=e.title,u=o.useState(!1),d=(0,n.Z)(u,2),f=d[0],g=d[1],p=o.useState(r),x=(0,n.Z)(p,2),m=x[0],b=x[1],h=o.useState(0),v=(0,n.Z)(h,2),y=v[0],j=v[1];return o.useEffect((function(){!r||r.startsWith("/uploads/")||r.startsWith("http")||b("/uploads/".concat(r))}),[r]),m?(0,i.jsxs)(a.Z,{toggle:f,setToggle:g,title:c,children:[t,(0,i.jsx)("div",{className:"flex flex-col",children:(0,i.jsx)("div",{className:"PDF__container__document",children:(0,i.jsx)(s.BB,{file:m,onLoadSuccess:function(e){var t=e.numPages;j(t)},options:l,children:Array.from(new Array(y),(function(e,t){return(0,i.jsx)(s.T3,{pageNumber:t+1},"page_".concat(t+1))}))})})})]}):null}},24108:function(e,t,r){"use strict";var n=r(61659),a=r(37958),o=r(85893);t.Z=function(e){var t=e.currentPage,r=void 0===t?1:t,s=e.pageCount,i=void 0===s?1:s,l=e.setPageNumber,c=e.showNumbers,u=void 0===c||c;return i<=1?null:(0,o.jsxs)("div",{className:"cursor-pointer flex",children:[(0,o.jsxs)("button",{disabled:r<=1,onClick:function(){l(r-1)},className:"disabled:cursor-not-allowed disabled:opacity-50 flex items-center space-x-1 py-2 px-3 text-gray-500 bg-white rounded-l border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[(0,o.jsx)(n.Z,{}),(0,o.jsx)("span",{children:"Previous"})]}),u&&new Array(i||1).fill(0).map((function(e,t){return(0,o.jsx)("button",{onClick:function(){l(t+1)},className:"flex flex-col justify-center items-center ".concat(t+1===r?"py-2 px-3 text-blue-600 bg-blue-50 border border-gray-300 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"py-2 px-3 text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"),children:(0,o.jsx)("span",{children:t+1})},t+"paginationKey")})),(0,o.jsxs)("button",{disabled:r>=i,onClick:function(){l(r+1)},className:"disabled:cursor-not-allowed disabled:opacity-50 flex items-center py-2 px-3 text-gray-500 bg-white rounded-r border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[(0,o.jsx)("span",{children:"Next"})," ",(0,o.jsx)(a.Z,{})]})]})}},73903:function(e,t,r){"use strict";var n=r(77533),a=r(50594),o=(r(67294),r(85893));t.Z=function(e){var t=e.children,r=e.toggle,s=void 0!==r&&r,i=e.setToggle,l=e.title,c=void 0===l?"New item":l,u=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&i(e)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{role:"button",onClick:function(){return i(!s)},tabIndex:0,children:t[0]}),(0,o.jsx)(n.ZP,{anchor:"top",open:s,onClose:u(!1),sx:{"& .MuiPaper-elevation":{maxWidth:"100%",minHeight:"100vh",marginX:"auto",padding:"8px",backgroundColor:"transparent",boxShadow:"none",overflowY:"auto",display:"flex",flexDirection:"column",alignItems:"center",height:"fit-content"}},children:(0,o.jsxs)("div",{className:"max-w-4xl pointer-events-auto bg-white flex py-3 px-4 md:p-8 flex-col items-center w-full",children:[(0,o.jsxs)("div",{className:"flex gap-x-2 justify-between w-full",children:[(0,o.jsx)("h1",{className:"font-black text-xl tracking-wide text-brand-green",children:c}),(0,o.jsxs)("button",{type:"button",onKeyDown:function(e){"Escape"===e.key&&i(!1)},onClick:u(!1),className:"text-brand-green flex flex-col items-center ml-auto",children:[(0,o.jsx)(a.Z,{fontSize:"large"}),(0,o.jsx)("span",{className:"text-sm text-brand-green",children:"ESC"})]})]}),(0,o.jsx)("div",{className:"flex flex-col w-full",children:t[1]})]})})]})}},59020:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return $},default:function(){return J}});var n=r(67294),a=r(9008),o=r.n(a),s=r(66133),i=r(96540),l=r(42761),c=r(27812),u=r(59499),d=r(16835),f=r(86635),g=r(24108),p=r(50029),x=r(87794),m=r.n(x),b=r(11179),h=r(46737),v=r.n(h),y=r(42705),j=r.n(y),w=r(73903),k=r(87536),N=r(97530),O=r(41733),Z=r(54970),P=r(97139),D=r(85893);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _=function(e){var t=e.updateFilesCb,r=e.maxFileSizeInBytes,a=void 0===r?5e6:r,o=e.multiple,s=void 0!==o&&o,i=n.useState(!1),l=(0,d.Z)(i,2),c=l[0],u=l[1],f=n.useState({}),g=(0,d.Z)(f,2),p=g[0],x=g[1],m=n.useRef(null),b=function(e){e.length;var t,r=C(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.size<a&&(p[n.name]=n)}}catch(o){r.e(o)}finally{r.f()}return E({},p)},h=function(e){var r,n=(r=e,Object.keys(r).map((function(e){return r[e]})));t(n)},v=function(e){e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)};return(0,D.jsxs)("div",{onDragOver:v,onDrop:function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files;if(console.log(e),t&&t.length){var r=b(t);x(r),h(r)}},onDragEnter:v,onDragLeave:v,className:"flex flex-col w-full",children:[(0,D.jsxs)("label",{className:"cursor-pointer flex items-center space-x-3 w-full border-2 border-dashed border-gray-600 rounded-lg px-4 py-6 md:py-10 ".concat(c?"border-brand-green":"peer-active:border-brand-green"),children:[(0,D.jsx)(Z.Z,{className:"text-brand-green",fontSize:"large"}),(0,D.jsx)("p",{className:"flex flex-col",children:"Drag & Drop PDFs here or click to select file(s)"}),(0,D.jsx)("input",{ref:m,type:"file",multiple:s,accept:"application/pdf",onChange:function(e){var t=e.target.files;if(t.length){var r=b(t);x(r),h(r)}},className:"hidden"})]}),(0,D.jsx)("div",{className:"mt-1 inline-grid md:grid-cols-2 gap-3 w-full",children:Object.keys(p).map((function(e,t){var r,n=p[e],a="application"===n.type.split("/")[0];return(0,D.jsx)("div",{className:"flex flex-col",children:a&&(0,D.jsx)(P.Z,{src:URL.createObjectURL(n),title:e,children:(0,D.jsxs)("div",{className:"py-1 bg-cyan-200/50 px-3 rounded-lg flex items-center w-full space-x-2 justify-between",children:[(0,D.jsxs)("p",{className:"text-xs text-cyan-500",children:[e," ",(0,D.jsxs)("span",{className:"text-red-500 pl-3",children:[(r=n.size,Math.round(r/1e3))," kb"]})]}),(0,D.jsx)(O.Z,{className:"text-brand-red cursor-pointer text-red-500",onClick:function(){return function(e){delete p[e],x(E({},p)),h(E({},p))}(e)}})]})})},e)}))})]})},A=r(87535),M=r(17737);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F=j().object({name:j().string().required(),link:j().object().required(),size:j().number().required(),cat:j().number().required()}),R=function(e){var t,r,a,o,s,i=e.handleAdd,l=e.children,c=n.useState(!1),u=(0,d.Z)(c,2),g=u[0],x=u[1],h=n.useState(!1),y=(0,d.Z)(h,2),j=y[0],O=y[1],Z=(0,f.Nv)("/api/categories").data.data,P=(0,k.cI)({resolver:(0,N.L)(F)}),S=P.register,E=P.handleSubmit,C=P.setValue,z=(P.getValues,P.reset),V=P.formState.errors,R=function(){var e=(0,p.Z)(m().mark((function e(t){var r,n,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),r=new FormData,Object.keys(t).forEach((function(e){r.append("link"===e?"media":e,t[e])})),e.next=5,b.Z.PostRoute.postRoute("/api/libraries",r);case 5:n=e.sent,a=n.data,o=n.error,x(!1),a&&v()("Added!",a.message||"Added successfully","success").then((function(){z(),O(!1),i(a.data)})),o&&v()("Ooops!",o.message||"Something went wrong");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(V);var T=null===Z||void 0===Z||null===(t=Z.rows)||void 0===t?void 0:t.map((function(e){return{value:e.id,label:e.name}}));return(0,D.jsxs)(w.Z,{title:"New Book",toggle:j,setToggle:O,children:[l,(0,D.jsx)("div",{className:"flex flex-col",children:(0,D.jsxs)("form",{onSubmit:function(e){E(R)(e)},className:"gap-y-3 flex flex-col",children:[(0,D.jsxs)("label",{className:"flex flex-col",children:[(0,D.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Name"}),(0,D.jsx)("input",L(L({type:"text",placeholder:"Name"},S("name")),{},{className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(r=V.name)||void 0===r?void 0:r.message)&&(0,D.jsx)("p",{className:"mt-1 text-red-500",children:(0,A.a)("".concat(V.name.message))})]}),(0,D.jsxs)("label",{className:"flex flex-col",children:[(0,D.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Category"}),(0,D.jsx)(M.ZP,L(L({isMulti:!1},S("cat")),{},{options:T,onChange:function(e){C("cat",e.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2"})),(null===(a=V.cat)||void 0===a?void 0:a.message)&&(0,D.jsx)("p",{className:"mt-1 text-red-500",children:(0,A.a)("".concat(V.cat.message))})]}),(0,D.jsxs)("div",{className:"flex flex-col",children:[(0,D.jsx)("span",{className:"text-sm mb-2 font-medium text-gray-900 dark:text-gray-300",children:"PDF"}),(0,D.jsx)(_,{updateFilesCb:function(e){var t;C("link",e[0],{shouldDirty:!0,shouldValidate:!0}),C("size",null===(t=e[0])||void 0===t?void 0:t.size,{shouldDirty:!0,shouldValidate:!0})},multiple:!1}),(null===(o=V.link)||void 0===o?void 0:o.message)&&(0,D.jsx)("p",{className:"mt-1 text-red-500",children:(0,A.a)("".concat(null===(s=V.link)||void 0===s?void 0:s.message))})]}),(0,D.jsx)("button",{type:"submit",disabled:g,className:"md:col-span-2 disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-brand-green/80 hover:bg-brand-green focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Submit"})]})})]})},T=r(93946),I=r(77957),U=r(62665);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=j().object({name:j().string().required(),link:j().object().required(),size:j().number().required(),cat:j().number().required()}),W=function(e){var t,r,a,o,s,i=e.handleEdit,l=e.dataValues,c=e.handleDelete,u=e.children,g=n.useState(!1),x=(0,d.Z)(g,2),h=x[0],y=x[1],j=n.useState(!1),O=(0,d.Z)(j,2),Z=O[0],P=O[1],S=(0,k.cI)({resolver:(0,N.L)(H)}),E=S.register,C=S.handleSubmit,z=S.setValue,V=S.reset,L=S.formState.errors,F=function(){var e=(0,p.Z)(m().mark((function e(t){var r,n,a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new FormData,Object.keys(t).forEach((function(e){r.append("link"===e?"media":e,t[e])})),y(!0),e.next=5,b.Z.PatchRoute.patchRoute("/api/libraries/".concat(l.id),r);case 5:n=e.sent,a=n.data,o=n.error,y(!1),a&&v()("Edited!",a.message||"Edited successfully","success").then((function(){V(),P(!1),i(a.data)})),o&&v()("Ooops!",o.message||"Something went wrong");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,p.Z)(m().mark((function e(){var t,r,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({title:"Are you sure?",text:"Are you sure that you want to delete this book?",icon:"warning",dangerMode:!0});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return y(!0),e.next=8,b.Z.DeleteRoute.deleteRoute("/api/libraries/".concat(l.id));case 8:t=e.sent,r=t.data,n=t.error,y(!1),r&&v()("Deleted!",r.message||"Deleted successfully","success").then((function(){V(),P(!1),c(l.id)})),n&&v()("Ooops!",n.message||"Something went wrong");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n.useEffect((function(){l&&V({name:l.name,link:l.link,cat:l.cat})}),[l]);var T=(0,f.Nv)("/api/categories").data.data,I=null===T||void 0===T||null===(t=T.rows)||void 0===t?void 0:t.map((function(e){return{value:e.id,label:e.name}})),U=null===I||void 0===I?void 0:I.filter((function(e){return e.value==l.cat}));return(0,D.jsxs)(w.Z,{title:"Edit Category",toggle:Z,setToggle:P,children:[u,(0,D.jsx)("div",{className:"flex flex-col",children:(0,D.jsxs)("form",{onSubmit:function(e){C(F)(e)},className:"gap-y-3 flex flex-col",children:[(0,D.jsxs)("label",{className:"flex flex-col",children:[(0,D.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Name"}),(0,D.jsx)("input",B(B({type:"text",placeholder:"Name"},E("name")),{},{className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(r=L.name)||void 0===r?void 0:r.message)&&(0,D.jsx)("p",{className:"mt-1 text-red-500",children:(0,A.a)("".concat(L.name.message))})]}),(0,D.jsxs)("label",{className:"flex flex-col",children:[(0,D.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Category"}),(0,D.jsx)(M.ZP,B(B({isMulti:!1},E("cat")),{},{defaultValue:U,options:I,onChange:function(e){z("cat",e.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2"})),(null===(a=L.cat)||void 0===a?void 0:a.message)&&(0,D.jsx)("p",{className:"mt-1 text-red-500",children:(0,A.a)("".concat(L.cat.message))})]}),(0,D.jsxs)("div",{className:"flex flex-col",children:[(0,D.jsx)("span",{className:"text-sm mb-2 font-medium text-gray-900 dark:text-gray-300",children:"PDF"}),(0,D.jsx)(_,{updateFilesCb:function(e){var t;z("link",e[0],{shouldDirty:!0,shouldValidate:!0}),z("size",null===(t=e[0])||void 0===t?void 0:t.size,{shouldDirty:!0,shouldValidate:!0})},multiple:!1}),(null===(o=L.link)||void 0===o?void 0:o.message)&&(0,D.jsx)("p",{className:"mt-1 text-red-500",children:(0,A.a)("".concat(null===(s=L.link)||void 0===s?void 0:s.message))})]}),(0,D.jsxs)("div",{className:"flex items-center space-x-3 justify-between md:col-span-2",children:[(0,D.jsx)("button",{type:"button",disabled:h,onClick:R,className:"font-semibold disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-red-500/80 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:red:ring-blue-800",children:"Delete"}),(0,D.jsx)("button",{type:"submit",disabled:h,className:"font-semibold disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-brand-green/80 hover:bg-brand-green focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg text-sm w-full sm:w-auto px-12 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Save"})]})]})})]})},K=function(e){var t=e.data,r=e.handleEdit,n=e.handleDelete,a=(t||{}).name;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)("div",{className:"flex flex-col bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700",children:(0,D.jsxs)("div",{className:"p-3 flex-grow flex flex-col items-center justify-between gap-y-2",children:[(0,D.jsx)(U.Z,{className:"text-red-500",fontSize:"large"}),(0,D.jsx)("p",{className:"font-semibold pl-2",children:a}),(0,D.jsx)(W,{dataValues:t,handleEdit:r,handleDelete:n,children:(0,D.jsx)(T.Z,{children:(0,D.jsx)(I.Z,{})})})]})})})};function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y=function(){var e=n.useRef(null),t=n.useState(1),r=(0,d.Z)(t,2),a=r[0],o=r[1],s=n.useState({count:0,rows:[]}),u=(0,d.Z)(s,2),p=u[0],x=u[1],m=(0,f.TB)("/api/libraries?page=".concat(a||1,"&limit=20")),b=m.data,h=b.data,v=b.pagination,y=m.isLoading,j=n.useState(""),w=(0,d.Z)(j,2),k=w[0],N=w[1];n.useEffect((function(){var e=(null===h||void 0===h?void 0:h.rows)||[];if(e.length){var t=e.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())}));x((function(e){return G(G({},e),{},{rows:t})}))}}),[h,k]),n.useEffect((function(){var e=(null===h||void 0===h?void 0:h.rows)||[];e.length&&x((function(t){return G(G({},t),{},{rows:e})}))}),[h]);var O=function(e){x((function(t){return G(G({},p),{},{rows:[].concat((0,c.Z)(t.rows),[e])})}))},Z=function(e){var t=p.rows.map((function(t){return Number(t.id)===Number(e.id)?e:t}));x((function(e){return G(G({},e),{},{rows:t})}))},P=function(e){x((function(t){return G(G({},t),{},{rows:t.rows.filter((function(t){return t.id!==e}))})}))};return y?(0,D.jsx)("p",{children:"Loading..."}):(0,D.jsxs)("div",{ref:e,className:"px-4 md:pl-6 bg-white py-4 flex flex-col flex-grow items-center md:px-8 w-full",children:[(0,D.jsxs)("div",{className:"space-x-6 md:space-x-12 bg-white flex justify-between w-full",children:[(0,D.jsxs)("div",{className:"group flex-grow flex items-center relative",children:[(0,D.jsx)(l.Z,{className:"left-2 absolute text-slate-400"}),(0,D.jsx)("input",{value:k,onChange:function(e){return N(e.target.value)},className:"peer focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 pl-10 ring-1 ring-slate-200 shadow-sm",type:"text",placeholder:"Filter libraries..."})]}),(0,D.jsx)(R,{handleAdd:function(e){O(e)},children:(0,D.jsxs)("button",{className:"hover:bg-brand-green group flex items-center rounded-md bg-brand-green/80 text-white text-sm font-medium px-8 py-2 shadow-sm",children:[(0,D.jsx)(i.Z,{}),(0,D.jsx)("span",{children:"New"})]})})]}),(0,D.jsxs)("ul",{className:"w-full py-4 md:py-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 text-sm leading-6",children:[p.rows.map((function(e,t){return(0,D.jsx)(K,{data:e,handleEdit:Z,handleDelete:P},null===e||void 0===e?void 0:e.id)})),(0,D.jsx)(R,{handleAdd:function(e){O(e)},children:(0,D.jsx)("li",{className:"flex",children:(0,D.jsxs)("button",{className:"hover:border-blue-500 hover:border-solid hover:bg-white hover:text-blue-500 group w-full flex flex-col items-center justify-center rounded-md border-2 border-dashed border-slate-300 text-sm leading-6 text-slate-900 font-medium p-3",children:[(0,D.jsx)(i.Z,{className:"group-hover:text-blue-500 mb-1 text-slate-400"}),"New Book"]})})})]}),(0,D.jsx)(g.Z,{pageCount:null===v||void 0===v?void 0:v.pageCount,currentPage:null===v||void 0===v?void 0:v.currentPage,setPageNumber:function(t){o(t),e.current.scrollIntoView()}})]})},$=!0,J=function(){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(o(),{children:(0,D.jsx)("title",{children:"Yean"})}),(0,D.jsx)(s.Z,{children:(0,D.jsx)(Y,{})})]})}},87535:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n=function(e){if(e){var t=e.replace(/"/g,"").replace(/Id/g,"");return t.charAt(0).toUpperCase()+t.slice(1)}}},8813:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/libraries",function(){return r(59020)}])},11333:function(){},52262:function(){},4727:function(){},75028:function(){},57840:function(){}},function(e){e.O(0,[4895,8247,8795,3946,8100,2482,9601,6737,2705,7737,7262,6133,9774,2888,179],(function(){return t=8813,e(e.s=t);var t}));var t=e.O();_N_E=t}]);