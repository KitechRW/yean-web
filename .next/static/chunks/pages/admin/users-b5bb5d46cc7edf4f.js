(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9635],{41733:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),s=r(85893),o=(0,a.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o},61659:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),s=r(85893),o=(0,a.default)((0,s.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");t.Z=o},37958:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),s=r(85893),o=(0,a.default)((0,s.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.Z=o},86635:function(e,t,r){"use strict";r.d(t,{Nv:function(){return c},TB:function(){return d}});var n=r(50029),a=r(87794),s=r.n(a),o=r(11179),i=(r(9669),r(8100)),l=function(){var e=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.OpenRoute.getRoute(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.GetRoute.getRoute(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=(0,i.ZP)(e,l),r=t.data,n=t.error;return{data:(null===r||void 0===r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}},c=function(e){var t=(0,i.ZP)(e,u),r=t.data,n=t.error;return{data:(null===r||void 0===r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}}},24108:function(e,t,r){"use strict";var n=r(61659),a=r(37958),s=r(85893);t.Z=function(e){var t=e.currentPage,r=void 0===t?1:t,o=e.pageCount,i=void 0===o?1:o,l=e.setPageNumber,u=e.showNumbers,d=void 0===u||u;return i<=1?null:(0,s.jsxs)("div",{className:"cursor-pointer flex",children:[(0,s.jsxs)("button",{disabled:r<=1,onClick:function(){l(r-1)},className:"disabled:cursor-not-allowed disabled:opacity-50 flex items-center space-x-1 py-2 px-3 text-gray-500 bg-white rounded-l border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[(0,s.jsx)(n.Z,{}),(0,s.jsx)("span",{children:"Previous"})]}),d&&new Array(i||1).fill(0).map((function(e,t){return(0,s.jsx)("button",{onClick:function(){l(t+1)},className:"flex flex-col justify-center items-center ".concat(t+1===r?"py-2 px-3 text-blue-600 bg-blue-50 border border-gray-300 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"py-2 px-3 text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"),children:(0,s.jsx)("span",{children:t+1})},t+"paginationKey")})),(0,s.jsxs)("button",{disabled:r>=i,onClick:function(){l(r+1)},className:"disabled:cursor-not-allowed disabled:opacity-50 flex items-center py-2 px-3 text-gray-500 bg-white rounded-r border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[(0,s.jsx)("span",{children:"Next"})," ",(0,s.jsx)(a.Z,{})]})]})}},71820:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return N},default:function(){return w}});var n=r(9008),a=r.n(n),s=r(2185),o=r(67294),i=r(86635),l=r(24108),u=r(42705),d=r.n(u),c=r(59499),p=r(41733),x=r(17737),v=r(11179),h=r(46737),f=r.n(h),b=r(85893);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var m=function(e){var t=e.key,r=e.data,n=(0,o.useState)(null),a=n[0],s=n[1],i=(0,o.useState)(null),l=i[0],u=i[1],d=(0,o.useState)(r),h=d[0],m=d[1],y=(0,o.useState)(!1),j=y[0],N=y[1],w=function(e,t){v.Z.PatchRoute.patchRoute("/api/users/"+(null===h||void 0===h?void 0:h.id),(0,c.Z)({},e,t)).then((function(e){f()("Updated!",e.data.message||"Updated successfully","success").then((function(){var t;m(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},null===(t=e.data)||void 0===t?void 0:t.data)),N(!1)}))}))};return(0,o.useEffect)((function(){null!==h&&void 0!==h&&h.type&&(s({label:null===h||void 0===h?void 0:h.type,value:null===h||void 0===h?void 0:h.type}),u({label:null===h||void 0===h?void 0:h.type,value:null===h||void 0===h?void 0:h.type}))}),[h]),(0,o.useEffect)((function(){(null===a||void 0===a?void 0:a.value)!==(null===l||void 0===l?void 0:l.value)&&N(!0)}),[a,l]),h?(0,b.jsxs)("tr",{className:"border-b hover:bg-orange-100 bg-gray-100",children:[(0,b.jsx)("td",{className:"p-3 px-5",children:(0,b.jsx)("label",{className:"bg-transparent",children:(null===h||void 0===h?void 0:h.firstname)+" "+(null===h||void 0===h?void 0:h.lastname)})}),(0,b.jsx)("td",{className:"p-3 px-5",children:(0,b.jsx)("label",{className:"bg-transparent",children:null===h||void 0===h?void 0:h.phone})}),(0,b.jsx)("td",{className:"p-3 px-5",children:(0,b.jsx)("label",{className:"bg-transparent",children:null===h||void 0===h?void 0:h.email})}),(0,b.jsx)("td",{className:"p-3 px-5",children:(0,b.jsx)(x.ZP,{className:"bg-transparent min-w-max",isMulti:!1,options:[{label:"admin",value:"admin"},{label:"member",value:"member"}],value:a,onChange:function(e){j?(null===l||void 0===l?void 0:l.value)===(null===e||void 0===e?void 0:e.value)&&N(!1):u(a),s(e)}})}),(0,b.jsx)("td",{className:"p-3 px-5 flex justify-end",children:j?(0,b.jsx)("button",{onClick:function(){w("type",a.value)},type:"button",className:"mr-3 text-sm bg-brand-green hover:bg-brand-green/80 text-white py-3 px-5 rounded focus:outline-none focus:shadow-outline",children:"Save"}):(0,b.jsxs)("div",{children:[null!==h&&void 0!==h&&h.active?(0,b.jsx)("button",{onClick:function(){w("active",!1)},type:"button",className:"mr-3 text-sm bg-orange-600 hover:bg-orange-900 text-white py-2 px-3 rounded focus:outline-none focus:shadow-outline",children:"Refuse"}):(0,b.jsx)("button",{onClick:function(){w("active",!0)},type:"button",className:"mr-3 text-sm bg-emerald-700 hover:bg-emerald-900 text-white py-2 px-3 rounded focus:outline-none focus:shadow-outline",children:"Approve"}),(0,b.jsx)("button",{onClick:function(){f()({title:"Are you sure?",text:"Are you sure that you want to delete this user?",icon:"warning",dangerMode:!0}).then((function(e){e&&v.Z.DeleteRoute.deleteRoute("/api/users/"+(null===h||void 0===h?void 0:h.id)).then((function(e){f()("Deleted!",e.data.message||"Delete successfully","success").then((function(){m(null)}))}))}))},type:"button",className:"text-sm hover:bg-gray-100 text-black py-2 px-3 rounded focus:outline-none focus:shadow-outline",children:(0,b.jsx)(p.Z,{})})]})})]},t):null},y=r(11163),j=(d().object({staff_type:d().string()}),function(e){var t=e.page,r=o.useRef(null),n=(0,y.useRouter)(),a=(0,i.TB)("/api/users?attributes=id,type,email,firstname,lastname,phone,active&page=".concat(t||1,"&limit=20")),s=a.data,u=s.data,d=s.pagination;a.isLoading;return(0,o.useEffect)((function(){}),[u]),(0,b.jsx)("div",{ref:r,children:(0,b.jsxs)("div",{className:"pb-14",children:[(0,b.jsxs)("div",{className:"p-4 flex justify-around ",children:[(0,b.jsx)("h1",{className:"text-3xl self-center",children:"Users"}),(0,b.jsxs)("div",{className:"flex flex-col p-3 px-8 justify-center min-w-[255px] min-h-[145px] drop-shadow rounded-lg bg-white",children:[(0,b.jsx)("h2",{className:"text-base font-semibold",children:"Users"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[(0,b.jsx)("p",{className:"bg-[#E6F3FF] p-2 px-3 rounded text-dark-green font-bold",children:null===d||void 0===d?void 0:d.count}),(0,b.jsx)("p",{className:"text-[#AAB1B7]",children:"Registered"})]})]})]}),(0,b.jsx)("div",{className:"px-3 py-4 flex justify-center overflow-x-auto ",children:(0,b.jsx)("table",{className:"w-full text-md bg-white shadow-md rounded mb-4",children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("th",{className:"text-left p-3 px-5",children:"Names"}),(0,b.jsx)("th",{className:"text-left p-3 px-5",children:"Phone"}),(0,b.jsx)("th",{className:"text-left p-3 px-5",children:"Email"}),(0,b.jsx)("th",{className:"text-left p-3 px-5",children:"Type"}),(0,b.jsx)("th",{})]}),null===u||void 0===u?void 0:u.map((function(e){return(0,b.jsx)(m,{data:e},e.id+"unique@22!")}))]})})}),(0,b.jsx)("div",{className:"flex justify-end mr-10",children:(0,b.jsx)(l.Z,{showNumbers:!1,pageCount:null===d||void 0===d?void 0:d.pageCount,currentPage:null===d||void 0===d?void 0:d.currentPage,setPageNumber:function(e){n.push("/admin/users?page="+e)}})})]})})}),N=!0,w=function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a(),{children:(0,b.jsx)("title",{children:"Yean"})}),(0,b.jsx)(s.Z,{children:(0,b.jsx)(j,{page:e.page})})]})}},64168:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users",function(){return r(71820)}])}},function(e){e.O(0,[8247,2530,8100,2426,6737,2705,7737,2185,9774,2888,179],(function(){return t=64168,e(e.s=t);var t}));var t=e.O();_N_E=t}]);