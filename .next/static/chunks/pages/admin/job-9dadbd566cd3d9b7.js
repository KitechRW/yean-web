(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7970],{97530:function(e,t,r){"use strict";r.d(t,{L:function(){return o}});var n=r(87536),a=r(2482),o=function(e,t,r){return void 0===t&&(t={abortEarly:!1}),void 0===r&&(r={}),function(o,s,l){try{var i=function(){var e,t;return c.error?{values:{},errors:(0,a.D)((e=c.error,t=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,e.details.length?e.details.reduce(function(e,r){var a=r.path.join(".");if(e[a]||(e[a]={message:r.message,type:r.type}),t){var o=e[a].types,s=o&&o[r.type];e[a]=(0,n.KN)(a,t,e,r.type,s?[].concat(s,r.message):r.message)}return e},{}):{}),l)}:(l.shouldUseNativeValidation&&(0,a.M)({},l),{errors:{},values:c.value})},d=Object.assign({},t,{context:s}),c={},u=function(){if("sync"===r.mode)c=e.validate(o,d);else{var t=function(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}(function(){return Promise.resolve(e.validateAsync(o,d)).then(function(e){c.value=e})},function(e){c.error=e});if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(u&&u.then?u.then(i):i())}catch($){return Promise.reject($)}}}},96540:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=s},77957:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var a=n(r(64938)),o=r(85893),s=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=s},85377:function(e,t,r){"use strict";r.d(t,{Nv:function(){return f},TB:function(){return $}});var n=r(50029),a=r(87794),o=r.n(a),s=r(10637);r(9669);var l,i,d=r(8100),c=(l=(0,n.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.OpenRoute.getRoute(t));case 1:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),u=(i=(0,n.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.GetRoute.getRoute(t));case 1:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),$=function(e){var t=(0,d.ZP)(e,c),r=t.data,n=t.error;return{data:(null==r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}},f=function(e){var t=(0,d.ZP)(e,u),r=t.data,n=t.error;return{data:(null==r?void 0:r.data)||{},isLoading:!n&&!r,isError:n}}},66673:function(e,t,r){"use strict";var n=r(77533),a=r(50594);r(67294);var o=r(85893),s=function(e){var t=e.children,r=e.toggle,s=void 0!==r&&r,l=e.setToggle,i=e.title,d=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&l(e)}},c=function(e){"Escape"===e.key&&l(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{role:"button",onClick:function(){return l(!s)},tabIndex:0,children:t[0]}),(0,o.jsx)(n.ZP,{anchor:"top",open:s,onClose:d(!1),sx:{"& .MuiPaper-elevation":{maxWidth:"100%",minHeight:"100vh",marginX:"auto",padding:"8px",backgroundColor:"transparent",boxShadow:"none",overflowY:"auto",display:"flex",flexDirection:"column",alignItems:"center",height:"fit-content"}},children:(0,o.jsxs)("div",{className:"max-w-4xl pointer-events-auto bg-white flex py-3 px-4 md:p-8 flex-col items-center w-full",children:[(0,o.jsxs)("div",{className:"flex gap-x-2 justify-between w-full",children:[(0,o.jsx)("h1",{className:"font-black text-xl tracking-wide text-brand-green",children:void 0===i?"New item":i}),(0,o.jsxs)("button",{type:"button",onKeyDown:c,onClick:d(!1),className:"text-brand-green flex flex-col items-center ml-auto",children:[(0,o.jsx)(a.Z,{fontSize:"large"}),(0,o.jsx)("span",{className:"text-sm text-brand-green",children:"ESC"})]})]}),(0,o.jsx)("div",{className:"flex flex-col w-full",children:t[1]})]})})]})};t.Z=s},31952:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return R},default:function(){return A}});var n=r(9008),a=r.n(n),o=r(43389),s=r(67294),l=r(96540),i=r(42761),d=r(27812),c=r(59499),u=r(16835),$=r(85377),f=r(93946),g=r(77957),x=r(50029),h=r(87794),p=r.n(h),m=r(10637),b=r(46737),y=r.n(b),v=r(42705),w=r.n(v),j=r(66673),k=r(87536),_=r(97530),N=r(77035),Z=r(85893);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var E=w().object({title:w().string().required(),keyword:w().string().required(),location:w().string().required(),category:w().string().required(),description:w().string().required()}),S=function(e){var t,r,n,a,o,l,i,d=e.handleAdd,c=e.children,$=e.handleEdit,f=e.dataValues,g=e.handleDelete,h=s.useState(!1),b=(0,u.Z)(h,2),v=b[0],w=b[1],D=s.useState(!1),S=(0,u.Z)(D,2),C=S[0],O=S[1],V=(0,k.cI)({resolver:(0,_.L)(E)}),L=V.register,R=V.handleSubmit,A=V.setValue,T=(V.getValues,V.reset),M=V.formState.errors,q=(l=(0,x.Z)(p().mark(function e(t){var r,n,a,o;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,f?m.Z.PatchRoute.patchRoute("/api/jobs/".concat(f.id),P({},t)):m.Z.PostRoute.postRoute("/api/jobs",P({},t));case 3:n=(r=e.sent).data,a=r.error,w(!1),n&&(o=f?"Edited":"Added",y()(o,n.message||"".concat(o," successfully"),"success").then(function(){T(),O(!1),f?$(n.data):d(n.data)})),a&&y()("Ooops!",a.message||"Something went wrong");case 9:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)});s.useEffect(function(){f&&T({title:f.title,keyword:f.keyword,location:f.location,category:f.category,description:f.description})},[f,T]);var F=(i=(0,x.Z)(p().mark(function e(){var t,r,n,a;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()({title:"Are you sure?",text:"Are you sure that you want to delete this job?",icon:"warning",dangerMode:!0});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:return w(!0),e.next=8,m.Z.DeleteRoute.deleteRoute("/api/jobs/".concat(f.id));case 8:n=(r=e.sent).data,a=r.error,w(!1),n&&y()("Deleted!",n.message||"Deleted successfully","success").then(function(){T(),O(!1),g(f.id)}),a&&y()("Ooops!",a.message||"Something went wrong");case 14:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)});return(0,Z.jsxs)(j.Z,{title:"".concat(f?"Edit":"New"," Job"),toggle:C,setToggle:O,children:[c,(0,Z.jsx)("div",{className:"flex flex-col",children:(0,Z.jsxs)("form",{onSubmit:function(e){R(q)(e)},className:"gap-y-3 flex flex-col",children:[(0,Z.jsxs)("label",{className:"flex flex-col",children:[(0,Z.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Title"}),(0,Z.jsx)("input",P(P({type:"text",placeholder:"Title"},L("title")),{},{onChange:function(e){A("title",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(t=M.title)||void 0===t?void 0:t.message)&&(0,Z.jsx)("p",{className:"mt-1 text-red-500",children:(0,N.a)("".concat(M.title.message))})]}),(0,Z.jsxs)("label",{className:"flex flex-col",children:[(0,Z.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Keywords"}),(0,Z.jsx)("input",P(P({type:"text",placeholder:"Keyword"},L("keyword")),{},{onChange:function(e){A("keyword",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(r=M.keyword)||void 0===r?void 0:r.message)&&(0,Z.jsx)("p",{className:"mt-1 text-red-500",children:(0,N.a)("".concat(M.keyword.message))})]}),(0,Z.jsxs)("label",{className:"flex flex-col",children:[(0,Z.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Location"}),(0,Z.jsx)("input",P(P({type:"text",placeholder:"Location"},L("location")),{},{onChange:function(e){A("location",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(n=M.location)||void 0===n?void 0:n.location)&&(0,Z.jsx)("p",{className:"mt-1 text-red-500",children:(0,N.a)("".concat(M.location.message))})]}),(0,Z.jsxs)("label",{className:"flex flex-col",children:[(0,Z.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Category"}),(0,Z.jsx)("input",P(P({type:"text",placeholder:"Category"},L("category")),{},{onChange:function(e){A("category",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(a=M.category)||void 0===a?void 0:a.message)&&(0,Z.jsx)("p",{className:"mt-1 text-red-500",children:(0,N.a)("".concat(M.category.message))})]}),(0,Z.jsxs)("label",{className:"flex flex-col",children:[(0,Z.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Description"}),(0,Z.jsx)("textarea",P(P({rows:10,placeholder:"Description"},L("description")),{},{onChange:function(e){A("description",e.target.value,{shouldDirty:!0,shouldValidate:!0})},className:"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),(null===(o=M.description)||void 0===o?void 0:o.message)&&(0,Z.jsx)("p",{className:"mt-1 text-red-500",children:(0,N.a)("".concat(M.description.message))})]}),(0,Z.jsxs)("div",{className:"flex items-center space-x-3 justify-between md:col-span-2",children:[f?(0,Z.jsx)("button",{type:"button",disabled:v,onClick:F,className:"font-semibold disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-red-500/80 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:red:ring-blue-800",children:"Delete"}):null,(0,Z.jsx)("button",{type:"submit",disabled:v,className:"md:col-span-2 disabled:cursor-not-allowed disabled:bg-slate-400 mt-12 text-white bg-brand-green/80 hover:bg-brand-green focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Submit"})]})]})})]})},C=function(e){var t=e.data,r=e.handleEdit,n=e.handleDelete,a=t||{},o=a.title,s=a.keyword,l=a.category;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"flex flex-col bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700",children:[(0,Z.jsxs)("h2",{className:"self-center",children:[" ",o]}),(0,Z.jsxs)("div",{className:"p-3 flex-grow flex flex-col items-center justify-between gap-y-2",children:[(0,Z.jsxs)("p",{className:"font-semibold pl-2",children:[s," , ",l]}),(0,Z.jsx)(S,{dataValues:t,handleEdit:r,handleDelete:n,children:(0,Z.jsx)(f.Z,{children:(0,Z.jsx)(g.Z,{})})})]})]})})};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var L=function(){var e=s.useState({count:0,rows:[]}),t=(0,u.Z)(e,2),r=t[0],n=t[1],a=(0,$.TB)("/api/jobs"),o=a.data.data,c=a.isLoading,f=s.useState(""),g=(0,u.Z)(f,2),x=g[0],h=g[1];s.useEffect(function(){var e=(null==o?void 0:o.rows)||[];if(e.length){var t=e.filter(function(e){var t;return null!=e&&!!e.title&&(null==e?void 0:null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))});n(function(e){return V(V({},e),{},{rows:t})})}},[o,x]),s.useEffect(function(){var e=(null==o?void 0:o.rows)||[];e.length&&n(function(t){return V(V({},t),{},{rows:e})})},[o]);var p=function(e){n(function(t){return V(V({},r),{},{rows:[].concat((0,d.Z)(t.rows),[e])})})},m=function(e){var t=r.rows.map(function(t){return Number(t.id)===Number(e.id)?e:t});n(function(e){return V(V({},e),{},{rows:t})})},b=function(e){n(function(t){return V(V({},t),{},{rows:t.rows.filter(function(t){return t.id!==e})})})};return c?(0,Z.jsx)("p",{children:"Loading..."}):(0,Z.jsxs)("div",{className:"px-4 md:pl-6 bg-white py-4 flex flex-col flex-grow items-center md:px-8 w-full",children:[(0,Z.jsx)("h2",{className:"font-semibold text-slate-900 self-start mr-2 mb-5",children:"Jobs"}),(0,Z.jsxs)("div",{className:"space-x-6 md:space-x-12 bg-white flex justify-between w-full",children:[(0,Z.jsxs)("div",{className:"group flex-grow flex items-center relative",children:[(0,Z.jsx)(i.Z,{className:"left-2 absolute text-slate-400"}),(0,Z.jsx)("input",{value:x,onChange:function(e){return h(e.target.value)},className:"peer focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 pl-10 ring-1 ring-slate-200 shadow-sm",type:"text",placeholder:"Filter Jobs..."})]}),(0,Z.jsx)(S,{handleAdd:function(e){p(e)},children:(0,Z.jsxs)("button",{className:"hover:bg-brand-green group flex items-center rounded-md bg-brand-green/80 text-white text-sm font-medium px-8 py-2 shadow-sm",children:[(0,Z.jsx)(l.Z,{}),(0,Z.jsx)("span",{children:"New"})]})})]}),(0,Z.jsxs)("ul",{className:"w-full py-4 md:py-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 text-sm leading-6",children:[r.rows.map(function(e,t){return(0,Z.jsx)(C,{data:e,handleEdit:m,handleDelete:b},(null==e?void 0:e.id)+"keyForJob")}),(0,Z.jsx)(S,{handleAdd:function(e){p(e)},children:(0,Z.jsx)("li",{className:"flex",children:(0,Z.jsxs)("button",{className:"hover:border-blue-500 hover:border-solid hover:bg-white hover:text-blue-500 group w-full flex flex-col items-center justify-center rounded-md border-2 border-dashed border-slate-300 text-sm leading-6 text-slate-900 font-medium p-3",children:[(0,Z.jsx)(l.Z,{className:"group-hover:text-blue-500 mb-1 text-slate-400"}),"New Job"]})})})]})]})},R=!0,A=function(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(a(),{children:(0,Z.jsx)("title",{children:"Yean"})}),(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(L,{})})]})}},77035:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var n=function(e){if(e){var t=e.replace(/"/g,"").replace(/Id/g,"");return t.charAt(0).toUpperCase()+t.slice(1)}}},41799:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/job",function(){return r(31952)}])}},function(e){e.O(0,[8247,8795,3946,8100,2482,9601,6737,2705,3389,9774,2888,179],function(){return e(e.s=41799)}),_N_E=e.O()}]);