(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{56945:function(e,t,r){"use strict";r(67294);var n=r(25675),s=r.n(n),a=r(41664),i=r.n(a),o=r(85893),l=function(e){var t=e.logo;return(0,o.jsx)(i(),{href:"/",children:(0,o.jsx)(s(),{src:void 0===t?"/assets/images/Yean_Logo.png":t,alt:"",width:"105.93px",height:"69px",layout:"fixed",className:"cursor-pointer"})})};t.Z=l},83113:function(e,t,r){"use strict";r(67294);var n=r(85893),s=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meta",{charSet:"UTF-8"}),(0,n.jsx)("meta",{name:"description",content:"ubuhinzi mu rwanda"}),(0,n.jsx)("meta",{name:"keywords",content:"youth, agribusiness, ubuhinzi, urubyiruko, amakuru, isoko, ihuriro, farmers, platform, Rwanda, farming"}),(0,n.jsx)("meta",{name:"author",content:"Fridolin niyonsaba"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,n.jsx)("meta",{property:"fb:app_id",content:"2004258806506916"}),(0,n.jsx)("meta",{property:"og:url",content:"https://yeanrwanda.org/"}),(0,n.jsx)("meta",{property:"og:type",content:""}),(0,n.jsx)("meta",{property:"og:description",content:""}),(0,n.jsx)("meta",{property:"og:title",content:"YEAN - My farming story"}),(0,n.jsx)("meta",{property:"og:image",content:"",itemProp:"image"}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{name:"twitter:site",content:"@YEAN_Rwanda"}),(0,n.jsx)("meta",{name:"twitter:creator",content:"@fridolin_r"}),(0,n.jsx)("meta",{property:"twitter:title",content:"YEAN - My farming story"}),(0,n.jsx)("meta",{name:"twitter:description",content:""}),(0,n.jsx)("meta",{name:"twitter:image",content:""})]})};t.Z=s},37467:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return k}});var n=r(59499),s=r(16835),a=r(67294),i=r(9669),o=r.n(i),l=r(74231),c=r(87536),m=r(2638),d=r(11163),u=r(45173),$=r(56945),p=r(41664),x=r.n(p),g=r(14653),f=r(70122),h=r(9008),y=r.n(h),j=r(83113),w=r(85893);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=l.Ry({password:l.Z_().required("Password is required"),email:l.Z_().required("Email is required").email("Email is invalid")}).required(),N=function(){var e,t,r=(0,g.RD)().setProfile,n=(0,d.useRouter)().push,i=a.useState(null),l=(0,s.Z)(i,2),p=l[0],h=l[1],b=(0,c.cI)({resolver:(0,m.X)(_)}),N=b.register,k=b.handleSubmit,P=b.formState.errors,E=function(e){h(null),o().post("/api/auth/login",e).then(function(e){var t=e.data,s=t.token,a=t.user;r({token:s,user:a}),u.Z.setToken(s),u.Z.set(f.Z.USER_INFO,{token:s,user:a}),["admin"].includes("".concat(null==a?void 0:a.type))?n("/admin"):n("/")}).catch(function(e){var t,r=(null===(t=e.response)||void 0===t?void 0:t.data)||e.response||e;console.log(r),h((null==r?void 0:r.message)||"Something went wrong, try again")})};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(y(),{children:[(0,w.jsx)("title",{children:"Login - Yean"}),(0,w.jsx)(j.Z,{})]}),(0,w.jsx)("div",{className:"bg-top bg-cover bg-no-repeat bg-[url(/assets/images/login.svg)] flex flex-col items-center min-h-screen",children:(0,w.jsx)("div",{className:"flex flex-col bg-black/50 flex-grow w-full items-center justify-center p-4 md:p-8",children:(0,w.jsx)("div",{className:"bg-white flex flex-col w-full md:max-w-md rounded shadow-xl border-t-[0.5px] border-gray-50 justify-center",children:(0,w.jsxs)("div",{className:"flex flex-col items-center w-full p-6 py-12 md:px-12",children:[(0,w.jsx)($.Z,{}),(0,w.jsx)("h1",{className:"mt-6 text-2xl md:text-4xl font-bold tracking-wide",children:"Login"}),p?(0,w.jsx)("div",{className:"mt-3 flex flex-col items-center rounded-lg bg-red-500 px-4 py-3",children:(0,w.jsx)("p",{className:"text-white text-sm first-letter:uppercase",children:p})}):null,(0,w.jsxs)("form",{onSubmit:function(e){k(E)(e)},className:"w-full flex flex-col mt-6",children:[(0,w.jsxs)("label",{htmlFor:"user-email",className:"flex flex-col",children:[(0,w.jsx)("span",{className:"text-black-200 text-sm",children:"Email"}),(0,w.jsx)("input",v(v({id:"user-email",type:"email"},N("email")),{},{className:"mt-1 focus:border-primary bg-gray-202 outline-none rounded-lg border border-gray-201 px-3 py-2"})),(0,w.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(e=P.email)||void 0===e?void 0:e.message})]}),(0,w.jsxs)("label",{htmlFor:"user-password",className:"flex flex-col mt-3",children:[(0,w.jsx)("span",{className:"text-black-200 text-sm",children:"Password"}),(0,w.jsx)("input",v(v({id:"user-password",type:"password"},N("password")),{},{className:"mt-1 focus:border-primary bg-gray-202 outline-none rounded-lg border border-gray-201 px-3 py-2"})),(0,w.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null===(t=P.password)||void 0===t?void 0:t.message}),(0,w.jsx)(x(),{href:"/forgot-password",children:(0,w.jsx)("span",{className:"text-brand-green cursor-pointer mt-1 text-right",children:"Forgot password?"})})]}),(0,w.jsx)("button",{type:"submit",className:"mt-6 w-full font-semibold tracking-wide bg-brand-green px-4 py-3 rounded-lg text-white",children:"Login"})]}),(0,w.jsxs)("p",{className:"text-brand-green mt-6",children:[(0,w.jsx)("span",{className:"text-gray-800",children:"First time? "}),(0,w.jsx)(x(),{href:"/signup",children:"Signup"})]})]})})})})]})},k=!0;t.default=N},73700:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(37467)}])}},function(e){e.O(0,[8247,2482,7487,1969,9774,2888,179],function(){return e(e.s=73700)}),_N_E=e.O()}]);